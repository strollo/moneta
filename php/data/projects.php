<?php$BASEPATH = dirname(__FILE__) . '/..'; include_once $BASEPATH . '/.header.php';include_once $BASEPATH . '/support/ProjectMgr.php';include_once $BASEPATH . '/support/Auth.php';include_once $BASEPATH . '/support/JSON.php';// Only admin can access this functionalityif (!Auth::isAdmin()) {	JSON::sendError('Only admin is allowed');	return;} if ((!isset($_GET) || !isset($_GET['action'])) || $_GET['action'] == 'read') {	JSON::sendJSONResult($_GET, ProjectMgr::getAllProjects());} else if ($_GET['action'] == 'destroy') {	JSON::sendJSONResult($_GET, ProjectMgr::delete(json_decode($_GET['records'])));} else if ($_GET['action'] == 'update') {	JSON::sendJSONResult($_GET, ProjectMgr::update(json_decode($_GET['records'])));	}  else if ($_GET['action'] == 'create') {	JSON::sendJSONResult($_GET, ProjectMgr::create(json_decode($_GET['records'])));} else if ($_GET['action'] == 'backup') {	if (!isset($_GET['id'])) {		JSON::sendError('Cannot execute backup. No project selected.');		die();	}	//ProjectMgr::backup(json_decode($_GET['id']));	JSON::sendJSONResult($_GET, ProjectMgr::backup(json_decode($_GET['id'])));	return;}?>